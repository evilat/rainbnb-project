<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RainBNB Onboarding</title>
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div
      class="modal fade"
      id="userModal"
      tabindex="-1"
      aria-labelledby="userModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="userModalLabel">User Info</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="userForm">
              <div class="mb-3">
                <label for="userIdInput" class="form-label"
                  >Enter User ID</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="userIdInput"
                  required
                />
              </div>
              <button type="submit" class="cta-button">Get Info</button>
            </form>
            <hr />
            <div id="resultContainer" class="d-none">
              <h6>Result:</h6>
              <pre id="userResult" class="p-2"></pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <nav>
      <p class="logo">RainBNB</p>

      <button class="nav-toggle collapsed" aria-label="Toggle navigation">
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>

      <div class="nav-menu">
        <div class="nav-links">
          <a href="#how-it-works">How it works</a>
          <a href="#stepSection">How to earn</a>
        </div>
        <div class="nav-cta">
          <a href="http://api.whatsapp.com/send?phone=923332010060&text=Hello%2C%20I%20need%20to%20buy%20BNB."><button class="buy-bnb">Buy BNB</button></a>
        </div>
      </div>
    </nav>

    <main class="hero">
      <div class="hero-content">
        <h1>Earn With <span class="highlight-heading">RainBNB</span></h1>
        <p>
          Earn BNB with RainBNB by joining, referring others, and unlocking
          levels. Get instant payouts directly to your wallet—simple,
          transparent, and easy to use.
        </p>
        <div class="cta-group">
          <a href="#stepSection"
            ><button class="cta-button">How to earn?</button></a
          >
          <button
            class="cta-button-secondary"
            data-bs-toggle="modal"
            data-bs-target="#userModal"
          >
            Preview ID
          </button>
        </div>

        <div class="stats-container">
          <div class="stat-item">
            <span class="stat-number">530k+</span>
            <span class="stat-label">Transactions</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">765k+</span>
            <span class="stat-label">Active Users</span>
          </div>
          <!-- <div class="stat-item">
              <span class="stat-number">Low</span>
              <span class="stat-label">Investment</span>
            </div> -->
        </div>
        <div class="caption-container">
          <p class="caption">Last checked on 6/11/2025</p>
        </div>
      </div>

      <div class="hero-graphics">
        <div class="gradient-orb"></div>
        <div class="floating-cards">
          <div class="f-card card-1">
            <img
              class="img-fluid"
              src="img/card-1.jpeg"
              alt="RainBNB Profit-1"
            />
          </div>
          <div class="f-card card-2">
            <img
              class="img-fluid"
              src="img/card-2.jpeg"
              alt="RainBNB Profit-2"
            />
          </div>
          <div class="f-card card-3">
            <img
              class="img-fluid"
              src="img/card-3.jpeg"
              alt="RainBNB Profit-3"
            />
          </div>
        </div>
      </div>
      <a href="#how-it-works" class="scroll-icon-link">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="scroll-icon"
          width="32"
          height="32"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <path d="M6 9l6 6l6 -6" />
        </svg>
      </a>
    </main>

    <section id="how-it-works" class="features">
      <div class="feature feature-1" style="--index: 0">
        <div class="feature-inner">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-plus-icon lucide-plus"
          >
            <path d="M5 12h14" />
            <path d="M12 5v14" />
          </svg>
          <span>Register</span>
        </div>
      </div>

      <div class="feature feature-2" style="--index: 1">
        <div class="feature-inner">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-circle-fading-arrow-up-icon lucide-circle-fading-arrow-up"
          >
            <path d="M12 2a10 10 0 0 1 7.38 16.75" />
            <path d="m16 12-4-4-4 4" />
            <path d="M12 16V8" />
            <path d="M2.5 8.875a10 10 0 0 0-.5 3" />
            <path d="M2.83 16a10 10 0 0 0 2.43 3.4" />
            <path d="M4.636 5.235a10 10 0 0 1 .891-.857" />
            <path d="M8.644 21.42a10 10 0 0 0 7.631-.38" />
          </svg>
          <span>Upgrade</span>
        </div>
      </div>

      <div class="feature feature-3" style="--index: 2">
        <div class="feature-inner">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-network-icon lucide-network"
          >
            <rect x="16" y="16" width="6" height="6" rx="1" />
            <rect x="2" y="16" width="6" height="6" rx="1" />
            <rect x="9" y="2" width="6" height="6" rx="1" />
            <path d="M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3" />
            <path d="M12 12V8" />
          </svg>
          <span>Refer</span>
        </div>
      </div>

      <div class="feature feature-4" style="--index: 3">
        <div class="feature-inner">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-dollar-sign-icon lucide-dollar-sign"
          >
            <line x1="12" x2="12" y1="2" y2="22" />
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
          </svg>
          <span>Earn</span>
        </div>
      </div>

      <div class="feature last-heading" style="--index: 4">
        <div class="feature-inner">
          <span>It's that simple</span>
          <a href="#stepSection" style="display: flex"
            ><button class="cta-button cta-small">Learn more</button></a
          >
        </div>
      </div>
    </section>

    <!-- <section id="about" class="about"></section> -->

    <section id="stepSection" class="scroll-section">
      <div class="side-nav hidden-nav-left" id="stepNav"></div>

      <div class="arrow-nav hidden-nav-right">
        <button id="arrowUp" disabled>↑</button>
        <button id="arrowDown" disabled>↓</button>
      </div>
      <div class="scroll-container" id="scrollContainer"></div>
    </section>
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module">
      import { ethers } from "https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.min.js";

      const RPC_URL = "https://opbnb-mainnet-rpc.bnbchain.org";
      const CONTRACT_ADDRESS = "0xe69d7918ce5a56647ef482e5f7762287e887bc57";
      const ABI = [
        "function userInfo(uint256) view returns (address,uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint256)",
      ];

      const provider = new ethers.JsonRpcProvider(RPC_URL);
      const contract = new ethers.Contract(CONTRACT_ADDRESS, ABI, provider);

      async function getUserInfo(id) {
        const result = await contract.userInfo(id);
        const [
          account,
          userId,
          referrerId,
          uplineId,
          startTime,
          level,
          directTeam,
          totalMatrixTeam,
          totalDeposit,
        ] = result;

        const startDateUTC = new Date(Number(startTime) * 1000)
          .toISOString()
          .replace("T", " ")
          .replace("Z", "");
        const depositBNB = parseFloat(ethers.formatEther(totalDeposit));

        return {
          "wallet address": account,
          "user id": Number(userId),
          "referrer id": Number(referrerId),
          "upline id": Number(uplineId),
          "registration time (UTC)": startDateUTC,
          level: Number(level),
          "direct team size": Number(directTeam),
          "total matrix team": Number(totalMatrixTeam),
          "total deposit (BNB)": depositBNB,
        };
      }

      document
        .getElementById("userForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();
          const id = document.getElementById("userIdInput").value;
          const resultEl = document.getElementById("userResult");
          const container = document.getElementById("resultContainer");
          resultEl.textContent = "Loading...";
          container.classList.remove("d-none");

          try {
            const info = await getUserInfo(id);
            resultEl.textContent = Object.entries(info)
              .map(([key, value]) => `${key}: ${value}`)
              .join("\n");
          } catch (err) {
            resultEl.textContent = "Error fetching data:\n" + err.message;
          }
        });
    </script>
  </body>
</html>
